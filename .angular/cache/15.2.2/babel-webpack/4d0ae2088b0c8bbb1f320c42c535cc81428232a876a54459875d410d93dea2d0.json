{"ast":null,"code":"import { createReducer, on } from '@ngrx/store';\nimport { login, loginFailure, loginSuccess, logout } from '../actions';\nimport { AuthDTO } from '../models/auth.dto';\nexport const initialState = {\n  credentials: new AuthDTO('', '', '', ''),\n  loading: false,\n  loaded: false,\n  error: null\n};\nconst _authReducer = createReducer(initialState, on(login, state => ({\n  ...state,\n  loading: true,\n  loaded: false,\n  error: null\n})), on(loginSuccess, (state, action) => ({\n  ...state,\n  credentials: action.credentials,\n  loading: false,\n  loaded: true,\n  error: null\n})), on(loginFailure, (state, {\n  payload\n}) => ({\n  ...state,\n  loading: false,\n  loaded: false,\n  error: {\n    payload\n  }\n})), on(logout, () => initialState));\nexport function authReducer(state, action) {\n  return _authReducer(state, action);\n}","map":{"version":3,"names":["createReducer","on","login","loginFailure","loginSuccess","logout","AuthDTO","initialState","credentials","loading","loaded","error","_authReducer","state","action","payload","authReducer"],"sources":["/Users/pierre-antoinetremblay/Desktop/blog-uoc-project-front/src/app/Auth/reducers/auth.reducer.ts"],"sourcesContent":["import { Action, createReducer, on } from '@ngrx/store';\r\nimport { login, loginFailure, loginSuccess, logout } from '../actions';\r\nimport { AuthDTO } from '../models/auth.dto';\r\n\r\nexport interface AuthState {\r\n  credentials: AuthDTO;\r\n  loading: boolean;\r\n  loaded: boolean;\r\n  error: any;\r\n}\r\n\r\nexport const initialState: AuthState = {\r\n  credentials: new AuthDTO('', '', '', ''),\r\n  loading: false,\r\n  loaded: false,\r\n  error: null,\r\n};\r\n\r\nconst _authReducer = createReducer(\r\n  initialState,\r\n  on(login, (state) => ({\r\n    ...state,\r\n    loading: true,\r\n    loaded: false,\r\n    error: null,\r\n  })),\r\n  on(loginSuccess, (state, action) => ({\r\n    ...state,\r\n    credentials: action.credentials,\r\n    loading: false,\r\n    loaded: true,\r\n    error: null,\r\n  })),\r\n  on(loginFailure, (state, { payload }) => ({\r\n    ...state,\r\n    loading: false,\r\n    loaded: false,\r\n    error: { payload },\r\n  })),\r\n  on(logout, () => initialState)\r\n);\r\n\r\nexport function authReducer(\r\n  state: AuthState | undefined,\r\n  action: Action\r\n): AuthState {\r\n  return _authReducer(state, action);\r\n}\r\n"],"mappings":"AAAA,SAAiBA,aAAa,EAAEC,EAAE,QAAQ,aAAa;AACvD,SAASC,KAAK,EAAEC,YAAY,EAAEC,YAAY,EAAEC,MAAM,QAAQ,YAAY;AACtE,SAASC,OAAO,QAAQ,oBAAoB;AAS5C,OAAO,MAAMC,YAAY,GAAc;EACrCC,WAAW,EAAE,IAAIF,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;EACxCG,OAAO,EAAE,KAAK;EACdC,MAAM,EAAE,KAAK;EACbC,KAAK,EAAE;CACR;AAED,MAAMC,YAAY,GAAGZ,aAAa,CAChCO,YAAY,EACZN,EAAE,CAACC,KAAK,EAAGW,KAAK,KAAM;EACpB,GAAGA,KAAK;EACRJ,OAAO,EAAE,IAAI;EACbC,MAAM,EAAE,KAAK;EACbC,KAAK,EAAE;CACR,CAAC,CAAC,EACHV,EAAE,CAACG,YAAY,EAAE,CAACS,KAAK,EAAEC,MAAM,MAAM;EACnC,GAAGD,KAAK;EACRL,WAAW,EAAEM,MAAM,CAACN,WAAW;EAC/BC,OAAO,EAAE,KAAK;EACdC,MAAM,EAAE,IAAI;EACZC,KAAK,EAAE;CACR,CAAC,CAAC,EACHV,EAAE,CAACE,YAAY,EAAE,CAACU,KAAK,EAAE;EAAEE;AAAO,CAAE,MAAM;EACxC,GAAGF,KAAK;EACRJ,OAAO,EAAE,KAAK;EACdC,MAAM,EAAE,KAAK;EACbC,KAAK,EAAE;IAAEI;EAAO;CACjB,CAAC,CAAC,EACHd,EAAE,CAACI,MAAM,EAAE,MAAME,YAAY,CAAC,CAC/B;AAED,OAAM,SAAUS,WAAWA,CACzBH,KAA4B,EAC5BC,MAAc;EAEd,OAAOF,YAAY,CAACC,KAAK,EAAEC,MAAM,CAAC;AACpC"},"metadata":{},"sourceType":"module","externalDependencies":[]}